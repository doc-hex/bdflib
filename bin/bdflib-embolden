#!/usr/bin/python
import sys
from optparse import OptionParser
from bdflib import reader, writer, effects

parser = OptionParser(usage="usage: %prog [options] input.bdf output.bdf")
parser.add_option("--maintain-spacing",
		dest="maintain_spacing", action="store_true", default="True",
		help="Expand each character's spacing to account for emboldening "
			"(default)",
	)
parser.add_option("--ignore-spacing",
		dest="maintain_spacing", action="store_false",
		help="Let bold characters use their original spacing",
	)

options, args = parser.parse_args()

if len(args) != 2:
	print >> sys.stderr, "Must supply exactly two filenames."
	parser.print_help()
	sys.exit(1)

input = open(args[0], 'r')
output = open(args[1], 'w+')

# Make a bold version of the input font.
bold = effects.embolden(reader.read_bdf(input), options.maintain_spacing)

# Write out the new font.
writer.write_bdf(bold, output)

input.close()
output.close()
